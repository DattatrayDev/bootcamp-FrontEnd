{"ast":null,"code":"var _jsxFileName = \"/home/dattd/Pictures/bootcamp-5/bc-5-frontend/src/pages/MoreSearch/MoreSearch.js\",\n    _s = $RefreshSig$();\n\nimport { Typography } from '@material-ui/core';\nimport { common } from '@material-ui/core/colors';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ArrowDownIcon from '@material-ui/icons/ArrowDropDown';\nimport Pagination from '@material-ui/lab/Pagination';\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport PrimaryButton from '../../components/molecules/PrimaryButton/index';\nimport GridList from '../../components/organisms/GridList/GridList';\nimport { currentlyReadBorder, iconFill, primayFill500, trasparentFill } from \"../../utils/colorPallete\";\nimport theme from '../../utils/theme';\nconst useStyles = makeStyles(() => ({\n  root: {\n    // display: 'flex',\n    flexGrow: 1,\n    maxWidth: \"1110px\",\n    margin: 'auto',\n    paddingTop: '30px',\n    paddingBottom: '70px'\n  },\n  container: {\n    width: '444px',\n    maxHeight: \"420px\",\n    border: \"solid 1px\",\n    borderColor: iconFill,\n    borderRadius: \"4px\",\n    overflow: \"visible\",\n    zIndex: 100\n  },\n  empty: {\n    width: 'inherit',\n    height: \"56px\",\n    border: \"solid 1px\",\n    borderColor: iconFill,\n    borderRadius: \"4px\",\n    marginTop: '0px',\n    backgroundColor: 'white',\n    zIndex: 100\n  },\n  dropDownButton: {\n    backgroundColor: common.white,\n    borderColor: 'currentColor',\n    padding: '6px 8px',\n    fontSize: '14px',\n    textTransform: 'capitalize',\n    marginRight: '24px'\n  },\n  selectedButton: {\n    backgroundColor: common.white,\n    color: theme.palette.primary.main,\n    borderColor: 'currentColor',\n    padding: '6px 8px',\n    fontSize: '14px',\n    textTransform: 'capitalize',\n    marginRight: '24px'\n  },\n  // buttonText: {\n  //     fontSize: '14px'\n  // },\n  page: {\n    width: 'inherit',\n    alignContent: 'center',\n    alignItems: 'center',\n    alignSelf: 'center'\n  },\n  pagination: {\n    marginTop: \"58px\",\n    margin: 'auto',\n    width: 'fit-content'\n  },\n  icons: {\n    fill: primayFill500,\n    backgroundColor: trasparentFill,\n    // border: 'solid 1px',\n    border: \"solid 1px\",\n    borderColor: currentlyReadBorder,\n    borderRadius: \"4px\"\n  },\n  tag: {\n    fontSize: \"22px\",\n    display: 'flex',\n    paddingTop: \"28px\",\n    paddingBottom: \"17px\"\n  }\n}));\nconst buttons = {\n  sort: 'Sort by',\n  categories: 'Categories'\n};\nexport default function MoreSearch(props) {\n  _s();\n\n  const classes = useStyles();\n  const [isSelected, setSelected] = useState(buttons.home);\n  const [books, setBooks] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [booksPerPage] = useState(8);\n\n  const handleChange = (event, newPage) => {\n    setCurrentPage(newPage);\n  };\n\n  function handleOnClick(key) {\n    setSelected(key);\n  }\n\n  const searchValue = props.match.params.keyword;\n  console.log(\"Search keyword:\", searchValue);\n  let url = searchValue !== \"\" ? \"https://bootcamp5-mockserver.herokuapp.com/books/?q=\" + searchValue + \"&_expand=author&_expand=category\" : ''; // let url = searchValue !== \"\" ? \"http://a810da6f43b4643c0a3a5251032d3651-1771357213.us-east-2.elb.amazonaws.com:8080/search?keyword=*\" + searchValue + \"*\" : ''\n\n  const fetchSearchData = async () => {\n    try {\n      const result = await axios.get(url);\n      setBooks(result.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    if (searchValue) {\n      fetchSearchData();\n    } else {\n      setBooks([]);\n    }\n  }, [url]);\n  console.log(\"Queried books\", books);\n  console.log(\"Current Page\", currentPage); // Pagination array count\n\n  const PaginationCount = Math.ceil(books.length / booksPerPage); // Get current page\n\n  const indexOfLastBook = currentPage * booksPerPage;\n  const indexOfFirstBook = indexOfLastBook - booksPerPage;\n  const currentBooks = books.slice(indexOfFirstBook, indexOfLastBook);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }, books[0] ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.page,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(PrimaryButton, {\n    variant: \"outlined\",\n    endIcon: /*#__PURE__*/React.createElement(ArrowDownIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 64\n      }\n    }),\n    style: {\n      marginRight: \"24px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }, \"Sort by\"), /*#__PURE__*/React.createElement(PrimaryButton, {\n    variant: \"outlined\",\n    endIcon: /*#__PURE__*/React.createElement(ArrowDownIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 64\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  }, \"Categories\"), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.tag,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 21\n    }\n  }, \"Search Results for \\xA0\", /*#__PURE__*/React.createElement(Typography, {\n    style: {\n      fontWeight: \"500\",\n      fontSize: \"22px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 25\n    }\n  }, \"\\\" \", searchValue, \" \\\"\\xA0\"), /*#__PURE__*/React.createElement(Typography, {\n    style: {\n      fontSize: \"16px\",\n      color: \"#9ea0a5\",\n      marginTop: \"6px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 25\n    }\n  }, indexOfFirstBook + 1, \"-\", indexOfLastBook, \" page of \", books.length + 1, \" results\")), /*#__PURE__*/React.createElement(GridList, {\n    books: currentBooks,\n    alignContent: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.pagination,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    className: classes.icons,\n    count: PaginationCount,\n    page: currentPage,\n    onChange: handleChange,\n    defaultPage: 1,\n    shape: \"rounded\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 25\n    }\n  }))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.empty,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.text,\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 21\n    }\n  }, \"No results found. Please try a different book.\")));\n}\n\n_s(MoreSearch, \"dElk6nfm+VFnHy/mWPR4Y0qvUsM=\", false, function () {\n  return [useStyles];\n});\n\n_c = MoreSearch;\n\nvar _c;\n\n$RefreshReg$(_c, \"MoreSearch\");","map":{"version":3,"sources":["/home/dattd/Pictures/bootcamp-5/bc-5-frontend/src/pages/MoreSearch/MoreSearch.js"],"names":["Typography","common","makeStyles","ArrowDownIcon","Pagination","axios","React","useEffect","useState","PrimaryButton","GridList","currentlyReadBorder","iconFill","primayFill500","trasparentFill","theme","useStyles","root","flexGrow","maxWidth","margin","paddingTop","paddingBottom","container","width","maxHeight","border","borderColor","borderRadius","overflow","zIndex","empty","height","marginTop","backgroundColor","dropDownButton","white","padding","fontSize","textTransform","marginRight","selectedButton","color","palette","primary","main","page","alignContent","alignItems","alignSelf","pagination","icons","fill","tag","display","buttons","sort","categories","MoreSearch","props","classes","isSelected","setSelected","home","books","setBooks","currentPage","setCurrentPage","booksPerPage","handleChange","event","newPage","handleOnClick","key","searchValue","match","params","keyword","console","log","url","fetchSearchData","result","get","data","error","PaginationCount","Math","ceil","length","indexOfLastBook","indexOfFirstBook","currentBooks","slice","fontWeight","text"],"mappings":"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","sourcesContent":["import { Typography } from '@material-ui/core';\nimport { common } from '@material-ui/core/colors';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ArrowDownIcon from '@material-ui/icons/ArrowDropDown';\nimport Pagination from '@material-ui/lab/Pagination';\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport PrimaryButton from '../../components/molecules/PrimaryButton/index';\nimport GridList from '../../components/organisms/GridList/GridList';\nimport { currentlyReadBorder, iconFill, primayFill500, trasparentFill } from \"../../utils/colorPallete\";\nimport theme from '../../utils/theme';\n\n\nconst useStyles = makeStyles(() => ({\n    root: {\n        // display: 'flex',\n        flexGrow: 1,\n        maxWidth: \"1110px\",\n        margin:'auto',\n        paddingTop:'30px',\n        paddingBottom:'70px'        \n    },\n    container: {\n        width: '444px',\n        maxHeight: \"420px\",\n        border: \"solid 1px\",\n        borderColor: iconFill,\n        borderRadius: \"4px\",\n        overflow: \"visible\",\n        zIndex: 100,\n    },\n    empty: {\n        width: 'inherit',\n        height: \"56px\",\n        border: \"solid 1px\",\n        borderColor: iconFill,\n        borderRadius: \"4px\",\n        marginTop: '0px',\n        backgroundColor: 'white',\n        zIndex: 100,\n    },\n    dropDownButton: {\n        backgroundColor: common.white,\n        borderColor: 'currentColor',\n        padding: '6px 8px',\n        fontSize: '14px',\n        textTransform: 'capitalize',\n        marginRight: '24px'\n    },\n    selectedButton: {\n        backgroundColor: common.white,\n        color: theme.palette.primary.main,\n        borderColor: 'currentColor',\n        padding: '6px 8px',\n        fontSize: '14px',\n        textTransform: 'capitalize',\n        marginRight: '24px'\n    },\n    // buttonText: {\n    //     fontSize: '14px'\n    // },\n    page: {\n        width: 'inherit',\n        alignContent: 'center',\n        alignItems: 'center',\n        alignSelf: 'center',\n    },\n    pagination: {\n        marginTop: \"58px\",\n        margin: 'auto',\n        width: 'fit-content',\n    },\n    icons: {\n        fill: primayFill500,\n        backgroundColor: trasparentFill,\n        // border: 'solid 1px',\n        border: \"solid 1px\",\n        borderColor: currentlyReadBorder,\n        borderRadius: \"4px\",\n\n    },\n    tag: {\n        fontSize: \"22px\",\n        display: 'flex',\n        paddingTop: \"28px\",\n        paddingBottom: \"17px\",\n    },\n\n}));\n\nconst buttons = {\n    sort: 'Sort by',\n    categories: 'Categories',\n}\n\nexport default function MoreSearch(props) {\n\n    const classes = useStyles();\n    const [isSelected, setSelected] = useState(buttons.home)\n    const [books, setBooks] = useState([]);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [ booksPerPage ] = useState(8);\n\n    const handleChange = (event, newPage) => {\n        setCurrentPage(newPage);\n    };\n\n    function handleOnClick(key) {\n        setSelected(key);\n    }\n\n    const searchValue = props.match.params.keyword;\n    console.log(\"Search keyword:\", searchValue)  \n\n    let url = searchValue !== \"\" ? \"https://bootcamp5-mockserver.herokuapp.com/books/?q=\" + searchValue + \"&_expand=author&_expand=category\" : ''\n    // let url = searchValue !== \"\" ? \"http://a810da6f43b4643c0a3a5251032d3651-1771357213.us-east-2.elb.amazonaws.com:8080/search?keyword=*\" + searchValue + \"*\" : ''\n\n\n    const fetchSearchData = async () => {\n        try {\n            const result = await axios.get(url);\n            setBooks(result.data);\n        } catch (error) {\n            console.log(error)\n        }\n    };\n\n    useEffect(() => {\n        if (searchValue) {\n            fetchSearchData();\n        } else {\n            setBooks([]);\n        }\n    }, [url]);\n\n    console.log(\"Queried books\", books);\n    console.log(\"Current Page\", currentPage);\n\n    // Pagination array count\n    const PaginationCount = Math.ceil(books.length / booksPerPage);\n\n    // Get current page\n    const indexOfLastBook = currentPage * booksPerPage;\n    const indexOfFirstBook = indexOfLastBook - booksPerPage;\n    const currentBooks = books.slice(indexOfFirstBook, indexOfLastBook);\n\n    return (\n        <div className={classes.root}>\n            {books[0] ?\n                <div className={classes.page}>\n                    <PrimaryButton variant='outlined' endIcon={<ArrowDownIcon/>} style={{marginRight: \"24px\"}} >Sort by</PrimaryButton>\n                    <PrimaryButton variant='outlined' endIcon={<ArrowDownIcon/>} >Categories</PrimaryButton>\n\n                    <Typography className={classes.tag}>\n                        Search Results for &nbsp;\n                        <Typography style={{ fontWeight: \"500\", fontSize: \"22px\" }} >\n                            \" {searchValue} \"&nbsp;\n                        </Typography>\n                        <Typography style={{ fontSize: \"16px\", color: \"#9ea0a5\", marginTop: \"6px\" }}>\n                            {indexOfFirstBook + 1}-{indexOfLastBook} page of {books.length + 1} results\n                        </Typography>\n                    </Typography>\n                    <GridList books={currentBooks} alignContent=\"center\" />\n                    <div className={classes.pagination}>\n                        <Pagination\n                            className={classes.icons}\n                            count={PaginationCount}\n                            page={currentPage}\n                            onChange={handleChange}\n                            defaultPage={1}\n                            shape=\"rounded\"\n                            color=\"primary\"\n                        />\n                    </div>\n                </div> :\n                <div className={classes.empty}>\n                    <Typography className={classes.text} align=\"center\">\n                        No results found. Please try a different book.\n                    </Typography>\n                </div>\n            }\n        </div>\n    );\n\n}"]},"metadata":{},"sourceType":"module"}