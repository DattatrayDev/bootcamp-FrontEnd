{"ast":null,"code":"var _jsxFileName = \"/home/dattd/Pictures/bootcamp-5/bc-5-frontend/src/pages/BookDetailPage/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport AboutAuthor from '../../components/organisms/AboutAuthor';\nimport BookCardList from '../../components/organisms/BookCardList';\nimport BookWidgetList from '../../components/organisms/BookCardWidgetList';\nimport BookDetailCard from '../../components/organisms/BookDetailCard';\nimport FollowingCard from '../../components/organisms/FollowingCard';\nimport ReviewCard from '../../components/organisms/ReviewCard';\nimport { getAllBooks, getBookById, getBookShelfByUserIdAndBookId, postBookShelfService, putBookShelfService } from '../../service/BookManagementService';\nimport BookDetailTemplate from '../../templates/BookDetailTemplate';\nconst booksList = [{\n  title: 'Inorganic Chemistry',\n  authorName: 'Joe Pearson',\n  avgRating: '4.5',\n  totalReviews: '1204',\n  categoryName: 'Chemistry',\n  releaseDate: '12 sep 1998',\n  language: 'English'\n}, {\n  title: 'Inorganic Chemistry',\n  authorName: 'Joe Pearson',\n  avgRating: '4.5',\n  totalReviews: '1204',\n  categoryName: 'Chemistry',\n  releaseDate: '12 sep 1998',\n  language: 'English'\n}, {\n  title: 'Inorganic Chemistry',\n  authorName: 'Joe Pearson',\n  avgRating: '4.5',\n  totalReviews: '1204',\n  categoryName: 'Chemistry',\n  releaseDate: '12 sep 1998',\n  language: 'English'\n}, {\n  title: 'Inorganic Chemistry',\n  authorName: 'Joe Pearson',\n  avgRating: '4.5',\n  totalReviews: '1204',\n  categoryName: 'Chemistry',\n  releaseDate: '12 sep 1998',\n  language: 'English'\n}];\nexport default function BookDetailPage(props) {\n  _s();\n\n  const reviewsList = [/*#__PURE__*/React.createElement(ReviewCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 26\n    }\n  }), /*#__PURE__*/React.createElement(ReviewCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 42\n    }\n  }), /*#__PURE__*/React.createElement(ReviewCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 58\n    }\n  })];\n  const followingReviewList = [/*#__PURE__*/React.createElement(FollowingCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 34\n    }\n  }), /*#__PURE__*/React.createElement(FollowingCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 53\n    }\n  }), /*#__PURE__*/React.createElement(FollowingCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 72\n    }\n  })];\n  const [book, setBook] = useState({});\n  const [recommendationsList, setRecommendations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [bookShelf, setBookShelf] = useState(null);\n  const id = props.match.params.id;\n\n  const getBook = async () => {\n    const book = await getBookById(id);\n    setBook(book);\n    console.log(book);\n    setLoading(false);\n  };\n\n  const getRecommendations = async () => {\n    const books = await getAllBooks();\n    setRecommendations(books);\n  };\n\n  const getBookShelf = async (userId, bookId) => {\n    const bookShelf = await getBookShelfByUserIdAndBookId(userId, bookId);\n    setBookShelf(bookShelf ? bookShelf[0] : {});\n  };\n\n  const postBookShelf = async (userId, requestBody) => {\n    const bookShelf = await postBookShelfService(userId, requestBody);\n    setBookShelf(bookShelf);\n  };\n\n  const putBookShelf = async (userId, bookShelfId, requestBody) => {\n    const bookShelf = await putBookShelfService(userId, bookShelfId, requestBody); // debugger;\n\n    setBookShelf(bookShelf);\n  };\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n    getBook();\n    getRecommendations();\n    getBookShelf(1, book.id);\n  }, [loading]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(BookDetailTemplate, {\n    bookDetailCard: /*#__PURE__*/React.createElement(BookDetailCard, Object.assign({}, book, {\n      bookShelf: bookShelf,\n      postBookShelf: postBookShelf,\n      putBookShelf: putBookShelf,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    })),\n    alsoRead: /*#__PURE__*/React.createElement(BookWidgetList, {\n      booksList: booksList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 23\n      }\n    }),\n    aboutAuthor: /*#__PURE__*/React.createElement(AboutAuthor, Object.assign({}, book.author, {\n      booksList: booksList.slice(0, 3),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 26\n      }\n    })),\n    followingReviews: followingReviewList,\n    otherReviews: reviewsList,\n    recommendations: /*#__PURE__*/React.createElement(BookCardList, {\n      booksList: recommendationsList.slice(6, 10),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 30\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }));\n}\n\n_s(BookDetailPage, \"VUuXzQRjyUa9VVvMfuBvHcoHRjM=\");\n\n_c = BookDetailPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookDetailPage\");","map":{"version":3,"sources":["/home/dattd/Pictures/bootcamp-5/bc-5-frontend/src/pages/BookDetailPage/index.js"],"names":["React","useEffect","useState","AboutAuthor","BookCardList","BookWidgetList","BookDetailCard","FollowingCard","ReviewCard","getAllBooks","getBookById","getBookShelfByUserIdAndBookId","postBookShelfService","putBookShelfService","BookDetailTemplate","booksList","title","authorName","avgRating","totalReviews","categoryName","releaseDate","language","BookDetailPage","props","reviewsList","followingReviewList","book","setBook","recommendationsList","setRecommendations","loading","setLoading","bookShelf","setBookShelf","id","match","params","getBook","console","log","getRecommendations","books","getBookShelf","userId","bookId","postBookShelf","requestBody","putBookShelf","bookShelfId","window","scrollTo","author","slice"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport AboutAuthor from '../../components/organisms/AboutAuthor'\nimport BookCardList from '../../components/organisms/BookCardList'\nimport BookWidgetList from '../../components/organisms/BookCardWidgetList'\nimport BookDetailCard from '../../components/organisms/BookDetailCard'\nimport FollowingCard from '../../components/organisms/FollowingCard'\nimport ReviewCard from '../../components/organisms/ReviewCard'\nimport { getAllBooks, getBookById, getBookShelfByUserIdAndBookId, postBookShelfService, putBookShelfService } from '../../service/BookManagementService'\nimport BookDetailTemplate from '../../templates/BookDetailTemplate'\n\nconst booksList = [\n    {\n        title: 'Inorganic Chemistry',\n        authorName: 'Joe Pearson',\n        avgRating: '4.5',\n        totalReviews: '1204',\n        categoryName: 'Chemistry',\n        releaseDate: '12 sep 1998',\n        language: 'English'\n    },\n    {\n        title: 'Inorganic Chemistry',\n        authorName: 'Joe Pearson',\n        avgRating: '4.5',\n        totalReviews: '1204',\n        categoryName: 'Chemistry',\n        releaseDate: '12 sep 1998',\n        language: 'English'\n    },\n    {\n        title: 'Inorganic Chemistry',\n        authorName: 'Joe Pearson',\n        avgRating: '4.5',\n        totalReviews: '1204',\n        categoryName: 'Chemistry',\n        releaseDate: '12 sep 1998',\n        language: 'English'\n    },\n    {\n        title: 'Inorganic Chemistry',\n        authorName: 'Joe Pearson',\n        avgRating: '4.5',\n        totalReviews: '1204',\n        categoryName: 'Chemistry',\n        releaseDate: '12 sep 1998',\n        language: 'English'\n    },\n]\n\nexport default function BookDetailPage(props) {\n    const reviewsList = [<ReviewCard />, <ReviewCard />, <ReviewCard />]\n    const followingReviewList = [<FollowingCard />, <FollowingCard />, <FollowingCard />]\n\n    const [book, setBook] = useState({})\n    const [recommendationsList, setRecommendations] = useState([])\n    const [loading, setLoading] = useState(true)\n    const [bookShelf, setBookShelf] = useState(null)\n\n    const id = props.match.params.id\n\n    const getBook = async () => {\n        const book = await getBookById(id)\n        setBook(book)\n        console.log(book)\n        setLoading(false)\n    }\n\n    const getRecommendations = async () => {\n        const books = await getAllBooks()\n        setRecommendations(books)\n    }\n\n    const getBookShelf = async (userId, bookId) => {\n        const bookShelf = await getBookShelfByUserIdAndBookId(userId, bookId)\n        setBookShelf(bookShelf ? bookShelf[0] : {})\n    }\n\n    const postBookShelf = async (userId, requestBody) => {\n        const bookShelf = await postBookShelfService(userId, requestBody)\n        setBookShelf(bookShelf)\n    }\n\n    const putBookShelf = async (userId, bookShelfId, requestBody) => {\n        const bookShelf = await putBookShelfService(userId, bookShelfId, requestBody)\n        // debugger;\n        setBookShelf(bookShelf)\n    }\n\n    useEffect(() => {\n        window.scrollTo(0, 0)\n        getBook()\n        getRecommendations()\n        getBookShelf(1,book.id)\n    }, [loading])\n\n    \n\n    return (<div>\n        <BookDetailTemplate\n            bookDetailCard={\n                <BookDetailCard {...book} bookShelf={bookShelf} postBookShelf={postBookShelf} putBookShelf={putBookShelf} />\n            }\n            alsoRead={<BookWidgetList booksList={booksList} />}\n            aboutAuthor={<AboutAuthor {...{...book.author, booksList:booksList.slice(0, 3)}} />}\n            followingReviews={followingReviewList}\n            otherReviews={reviewsList}\n            recommendations={<BookCardList booksList={recommendationsList.slice(6,10)} />}\n\n        />\n    </div>)\n}"]},"metadata":{},"sourceType":"module"}