{"ast":null,"code":"var _jsxFileName = \"/home/dattd/Pictures/bootcamp-5/bc-5-frontend/src/components/molecules/DropDownButton/index.js\",\n    _s = $RefreshSig$();\n\nimport Button from \"@material-ui/core/Button\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport Grow from \"@material-ui/core/Grow\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport MenuList from \"@material-ui/core/MenuList\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popper from \"@material-ui/core/Popper\";\nimport ArrowDropDown from \"@material-ui/icons/ArrowDropDown\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport React, { useEffect, useState } from \"react\";\nexport default function DropDownButton(props) {\n  _s();\n\n  const [open, setOpen] = useState(false);\n  const anchorRef = React.useRef(null);\n\n  const handleToggle = () => {\n    setOpen(prevOpen => !prevOpen);\n  };\n\n  const handleClose = event => {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  const handleFetch = event => {\n    if (props.bookShelf) {\n      const requestBody = {\n        id: props.bookShelf.id,\n        book: {\n          id: props.bookId\n        },\n        user: {\n          id: 1\n        },\n        readStatus: event.target.id\n      };\n      props.putBookShelf(1, props.bookShelf.id, requestBody);\n    } else {\n      const requestBody = {\n        book: {\n          id: props.bookId\n        },\n        user: {\n          id: 1\n        },\n        readStatus: event.target.id,\n        pagesRead: 323\n      };\n      props.postBookShelf(1, requestBody);\n    }\n  };\n\n  function handleListKeyDown(event) {\n    if (event.key === \"Tab\") {\n      event.preventDefault();\n      setOpen(false);\n    }\n  }\n\n  const prevOpen = React.useRef(open);\n  useEffect(() => {\n    if (prevOpen.current === true && open === false) {\n      anchorRef.current.focus();\n    }\n\n    prevOpen.current = open;\n  }, [open]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: \"32px\",\n      width: \"32px\",\n      backgroundColor: \"#1665d8\",\n      borderRadius: \"4px\",\n      boxShadow: \"0px 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 1px 5px 0px rgba(0,0,0,0.12)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    ref: anchorRef,\n    \"aria-controls\": open ? \"menu-list-grow\" : undefined,\n    \"aria-haspopup\": \"true\",\n    onClick: handleToggle,\n    style: {\n      height: \"32px\",\n      width: \"32px\",\n      padding: 0\n    },\n    variant: \"contained\",\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ArrowDropDown, {\n    size: \"small\",\n    style: {\n      fill: \"white\",\n      height: \"32px\",\n      width: \"28px\",\n      padding: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Popper, {\n    open: open,\n    anchorEl: anchorRef.current,\n    role: undefined,\n    transition: true,\n    disablePortal: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, _ref => {\n    let {\n      TransitionProps,\n      placement\n    } = _ref;\n    return /*#__PURE__*/React.createElement(Grow, Object.assign({}, TransitionProps, {\n      style: {\n        transformOrigin: placement === \"bottom\" ? \"center top\" : \"center bottom\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Paper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ClickAwayListener, {\n      onClickAway: handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(MenuList, {\n      autoFocusItem: open,\n      id: \"menu-list-grow\",\n      onKeyDown: handleListKeyDown,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      id: \"TO_READ\",\n      onClick: event => {\n        handleClose(event);\n        handleFetch(event);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 19\n      }\n    }, \"Want to read\"), /*#__PURE__*/React.createElement(MenuItem, {\n      id: \"READING\",\n      onClick: event => {\n        handleClose(event);\n        handleFetch(event);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 19\n      }\n    }, \"Currently reading\"), /*#__PURE__*/React.createElement(MenuItem, {\n      id: \"READ\",\n      onClick: event => {\n        handleClose(event);\n        handleFetch(event);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }\n    }, \"Finished reading\")))));\n  }));\n}\n\n_s(DropDownButton, \"+cBZRne5XkA31YtBWsvwvL2GuKQ=\");\n\n_c = DropDownButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"DropDownButton\");","map":{"version":3,"sources":["/home/dattd/Pictures/bootcamp-5/bc-5-frontend/src/components/molecules/DropDownButton/index.js"],"names":["Button","ClickAwayListener","Grow","MenuItem","MenuList","Paper","Popper","ArrowDropDown","IconButton","React","useEffect","useState","DropDownButton","props","open","setOpen","anchorRef","useRef","handleToggle","prevOpen","handleClose","event","current","contains","target","handleFetch","bookShelf","requestBody","id","book","bookId","user","readStatus","putBookShelf","pagesRead","postBookShelf","handleListKeyDown","key","preventDefault","focus","height","width","backgroundColor","borderRadius","boxShadow","undefined","padding","fill","TransitionProps","placement","transformOrigin"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,0BAAnB;AACA,OAAOC,iBAAP,MAA8B,qCAA9B;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,aAAP,MAA0B,kCAA1B;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAEA,eAAe,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;AAAA;;AAC5C,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBJ,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAMK,SAAS,GAAGP,KAAK,CAACQ,MAAN,CAAa,IAAb,CAAlB;;AAEA,QAAMC,YAAY,GAAG,MAAM;AACzBH,IAAAA,OAAO,CAAEI,QAAD,IAAc,CAACA,QAAhB,CAAP;AACD,GAFD;;AAIA,QAAMC,WAAW,GAAIC,KAAD,IAAW;AAC7B,QAAIL,SAAS,CAACM,OAAV,IAAqBN,SAAS,CAACM,OAAV,CAAkBC,QAAlB,CAA2BF,KAAK,CAACG,MAAjC,CAAzB,EAAmE;AACjE;AACD;;AACDT,IAAAA,OAAO,CAAC,KAAD,CAAP;AACD,GALD;;AAOA,QAAMU,WAAW,GAAIJ,KAAD,IAAW;AAC7B,QAAIR,KAAK,CAACa,SAAV,EAAqB;AACnB,YAAMC,WAAW,GAAG;AAClBC,QAAAA,EAAE,EAAEf,KAAK,CAACa,SAAN,CAAgBE,EADF;AAElBC,QAAAA,IAAI,EACJ;AACED,UAAAA,EAAE,EAAEf,KAAK,CAACiB;AADZ,SAHkB;AAMlBC,QAAAA,IAAI,EAAC;AACHH,UAAAA,EAAE,EAAE;AADD,SANa;AASlBI,QAAAA,UAAU,EAAEX,KAAK,CAACG,MAAN,CAAaI;AATP,OAApB;AAWAf,MAAAA,KAAK,CAACoB,YAAN,CACE,CADF,EAEEpB,KAAK,CAACa,SAAN,CAAgBE,EAFlB,EAGED,WAHF;AAKD,KAjBD,MAiBO;AACL,YAAMA,WAAW,GAAG;AAClBE,QAAAA,IAAI,EACJ;AACED,UAAAA,EAAE,EAAEf,KAAK,CAACiB;AADZ,SAFkB;AAKlBC,QAAAA,IAAI,EAAC;AACHH,UAAAA,EAAE,EAAE;AADD,SALa;AAQlBI,QAAAA,UAAU,EAAEX,KAAK,CAACG,MAAN,CAAaI,EARP;AASlBM,QAAAA,SAAS,EAAE;AATO,OAApB;AAWArB,MAAAA,KAAK,CAACsB,aAAN,CACE,CADF,EAEER,WAFF;AAID;AACF,GAnCD;;AAqCA,WAASS,iBAAT,CAA2Bf,KAA3B,EAAkC;AAChC,QAAIA,KAAK,CAACgB,GAAN,KAAc,KAAlB,EAAyB;AACvBhB,MAAAA,KAAK,CAACiB,cAAN;AACAvB,MAAAA,OAAO,CAAC,KAAD,CAAP;AACD;AACF;;AACD,QAAMI,QAAQ,GAAGV,KAAK,CAACQ,MAAN,CAAaH,IAAb,CAAjB;AAEAJ,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIS,QAAQ,CAACG,OAAT,KAAqB,IAArB,IAA6BR,IAAI,KAAK,KAA1C,EAAiD;AAC/CE,MAAAA,SAAS,CAACM,OAAV,CAAkBiB,KAAlB;AACD;;AAEDpB,IAAAA,QAAQ,CAACG,OAAT,GAAmBR,IAAnB;AACD,GANQ,EAMN,CAACA,IAAD,CANM,CAAT;AAQA,sBACE;AACE,IAAA,KAAK,EAAE;AACL0B,MAAAA,MAAM,EAAE,MADH;AAELC,MAAAA,KAAK,EAAE,MAFF;AAGLC,MAAAA,eAAe,EAAE,SAHZ;AAILC,MAAAA,YAAY,EAAE,KAJT;AAKLC,MAAAA,SAAS,EACP;AANG,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAUE,oBAAC,UAAD;AACE,IAAA,GAAG,EAAE5B,SADP;AAEE,qBAAeF,IAAI,GAAG,gBAAH,GAAsB+B,SAF3C;AAGE,qBAAc,MAHhB;AAIE,IAAA,OAAO,EAAE3B,YAJX;AAKE,IAAA,KAAK,EAAE;AAAEsB,MAAAA,MAAM,EAAE,MAAV;AAAkBC,MAAAA,KAAK,EAAE,MAAzB;AAAiCK,MAAAA,OAAO,EAAE;AAA1C,KALT;AAME,IAAA,OAAO,EAAC,WANV;AAOE,IAAA,IAAI,EAAC,OAPP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAUI,oBAAC,aAAD;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,KAAK,EAAE;AAAEC,MAAAA,IAAI,EAAE,OAAR;AAAiBP,MAAAA,MAAM,EAAE,MAAzB;AAAiCC,MAAAA,KAAK,EAAE,MAAxC;AAAgDK,MAAAA,OAAO,EAAE;AAAzD,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,CAVF,eA0BE,oBAAC,MAAD;AACE,IAAA,IAAI,EAAEhC,IADR;AAEE,IAAA,QAAQ,EAAEE,SAAS,CAACM,OAFtB;AAGE,IAAA,IAAI,EAAEuB,SAHR;AAIE,IAAA,UAAU,MAJZ;AAKE,IAAA,aAAa,MALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOG;AAAA,QAAC;AAAEG,MAAAA,eAAF;AAAmBC,MAAAA;AAAnB,KAAD;AAAA,wBACC,oBAAC,IAAD,oBACMD,eADN;AAEE,MAAA,KAAK,EAAE;AACLE,QAAAA,eAAe,EACbD,SAAS,KAAK,QAAd,GAAyB,YAAzB,GAAwC;AAFrC,OAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAOE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,iBAAD;AAAmB,MAAA,WAAW,EAAE7B,WAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,QAAD;AACE,MAAA,aAAa,EAAEN,IADjB;AAEE,MAAA,EAAE,EAAC,gBAFL;AAGE,MAAA,SAAS,EAAEsB,iBAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKE,oBAAC,QAAD;AACE,MAAA,EAAE,EAAC,SADL;AAEE,MAAA,OAAO,EAAGf,KAAD,IAAW;AAClBD,QAAAA,WAAW,CAACC,KAAD,CAAX;AACAI,QAAAA,WAAW,CAACJ,KAAD,CAAX;AACD,OALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBALF,eAcE,oBAAC,QAAD;AACE,MAAA,EAAE,EAAC,SADL;AAEE,MAAA,OAAO,EAAGA,KAAD,IAAW;AAClBD,QAAAA,WAAW,CAACC,KAAD,CAAX;AACAI,QAAAA,WAAW,CAACJ,KAAD,CAAX;AACD,OALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAdF,eAuBE,oBAAC,QAAD;AACE,MAAA,EAAE,EAAC,MADL;AAEE,MAAA,OAAO,EAAGA,KAAD,IAAW;AAClBD,QAAAA,WAAW,CAACC,KAAD,CAAX;AACAI,QAAAA,WAAW,CAACJ,KAAD,CAAX;AACD,OALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAvBF,CADF,CADF,CAPF,CADD;AAAA,GAPH,CA1BF,CADF;AAoFD;;GAxJuBT,c;;KAAAA,c","sourcesContent":["import Button from \"@material-ui/core/Button\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport Grow from \"@material-ui/core/Grow\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport MenuList from \"@material-ui/core/MenuList\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popper from \"@material-ui/core/Popper\";\nimport ArrowDropDown from \"@material-ui/icons/ArrowDropDown\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport React, { useEffect, useState } from \"react\";\n\nexport default function DropDownButton(props) {\n  const [open, setOpen] = useState(false);\n  const anchorRef = React.useRef(null);\n\n  const handleToggle = () => {\n    setOpen((prevOpen) => !prevOpen);\n  };\n\n  const handleClose = (event) => {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n    setOpen(false);\n  };\n\n  const handleFetch = (event) => {\n    if (props.bookShelf) {\n      const requestBody = {\n        id: props.bookShelf.id,\n        book : \n        {\n          id: props.bookId,\n        },\n        user:{\n          id: 1\n        },\n        readStatus: event.target.id,\n      };\n      props.putBookShelf(\n        1,\n        props.bookShelf.id,\n        requestBody\n      );\n    } else {\n      const requestBody = {\n        book : \n        {\n          id: props.bookId,\n        },\n        user:{\n          id: 1\n        },\n        readStatus: event.target.id,\n        pagesRead: 323,\n      };\n      props.postBookShelf(\n        1,\n        requestBody\n      );\n    }\n  };\n\n  function handleListKeyDown(event) {\n    if (event.key === \"Tab\") {\n      event.preventDefault();\n      setOpen(false);\n    }\n  }\n  const prevOpen = React.useRef(open);\n\n  useEffect(() => {\n    if (prevOpen.current === true && open === false) {\n      anchorRef.current.focus();\n    }\n\n    prevOpen.current = open;\n  }, [open]);\n\n  return (\n    <div\n      style={{\n        height: \"32px\",\n        width: \"32px\",\n        backgroundColor: \"#1665d8\",\n        borderRadius: \"4px\",\n        boxShadow:\n          \"0px 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 1px 5px 0px rgba(0,0,0,0.12)\",\n      }}\n    >\n      <IconButton\n        ref={anchorRef}\n        aria-controls={open ? \"menu-list-grow\" : undefined}\n        aria-haspopup=\"true\"\n        onClick={handleToggle}\n        style={{ height: \"32px\", width: \"32px\", padding: 0 }}\n        variant=\"contained\"\n        size=\"small\"\n      >\n        {\n          <ArrowDropDown\n            size=\"small\"\n            style={{ fill: \"white\", height: \"32px\", width: \"28px\", padding: 0 }}\n          />\n        }\n      </IconButton>\n      <Popper\n        open={open}\n        anchorEl={anchorRef.current}\n        role={undefined}\n        transition\n        disablePortal\n      >\n        {({ TransitionProps, placement }) => (\n          <Grow\n            {...TransitionProps}\n            style={{\n              transformOrigin:\n                placement === \"bottom\" ? \"center top\" : \"center bottom\",\n            }}\n          >\n            <Paper>\n              <ClickAwayListener onClickAway={handleClose}>\n                <MenuList\n                  autoFocusItem={open}\n                  id=\"menu-list-grow\"\n                  onKeyDown={handleListKeyDown}\n                >\n                  <MenuItem\n                    id=\"TO_READ\"\n                    onClick={(event) => {\n                      handleClose(event);\n                      handleFetch(event);\n                    }}\n                  >\n                    Want to read\n                  </MenuItem>\n                  <MenuItem\n                    id=\"READING\"\n                    onClick={(event) => {\n                      handleClose(event);\n                      handleFetch(event);\n                    }}\n                  >\n                    Currently reading\n                  </MenuItem>\n                  <MenuItem\n                    id=\"READ\"\n                    onClick={(event) => {\n                      handleClose(event);\n                      handleFetch(event);\n                    }}\n                  >\n                    Finished reading\n                  </MenuItem>\n                </MenuList>\n              </ClickAwayListener>\n            </Paper>\n          </Grow>\n        )}\n      </Popper>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}